<div class="row m-0 justify-content-center align-content-center pale-yellow">
  <div class="login-form">
    <img src="../../../../assets/extra/avatar.png" alt="avatar" />
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="username">Usuario</label>
        <input
          type="email"
          placeholder="Usuario@123.com"
          id="username"
          formControlName="username"
          class="form-control form-field"
        />
        <span
          *ngIf="
            !loginForm.get('username').valid &&
            loginForm.get('username').touched
          "
          class="help-block"
        >
          <span *ngIf="loginForm.get('username').errors['required']"
            >El campo es obligatorio</span
          >
          <span *ngIf="loginForm.get('username').errors['email']"
            >El dato introducido es incorrecto</span
          >
        </span>
      </div>

      <div class="form-group">
        <label for="password">Contraseña</label>
        <input
          type="password"
          id="password"
          placeholder="********"
          formControlName="password"
          class="form-control form-field"
        />
        <span
          *ngIf="
            !loginForm.get('password').valid &&
            loginForm.get('password').touched
          "
          class="help-block"
        >
          <span *ngIf="loginForm.get('password').errors['required']"
            >El campo es obligatorio</span
          >
        </span>
      </div>
      <div class="m-3">
        <a class="d-block" data-toggle="modal" data-target="popup"
          >Recuperar contraseña</a
        >
        <button type="button" data-toggle="modal" data-target="popup">Alo</button>
        <a routerLink="/visitor/signup" class="d-block">Registrarse</a>
      </div>
      <button
        class="btn btn-warning btn-block"
        type="submit"
        [disabled]="!loginForm.get('username').valid || !loginForm.get('password').valid"
      >
        Iniciar sesión
      </button>
    </form>
  </div>

  <div
    class="modal fade"
    id="popup"
    tabindex="-1"
    role="dialog"
    aria-labelledby="popup"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="popup">
            Recuperar contraseña
          </h4>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body text-center">
          <form [formGroup]="emailForm">
            <div class="form-group">
              <label for="email">Correo eléctronico:</label>
              <input type="email" id="email" formControlName="email" />
            </div>
          </form>
        </div>

        <div class="modal-footer mt-3">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">
            Cerrar
          </button>
          <button
            type="submit"
            class="btn btn-primary"
            (click)="forgotPassword()"
            [disabled]="!emailForm.valid"
          >
            Aceptar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
